FROM lightstep/collector:2019-10-25_22-47-11Z

ENV COLLECTOR_POOL=hipster-satellite
# ENV COLLECTOR_PROJECT_NAME=dev-ishmeet
# ENV COLLECTOR_ROUTING_TAGS=developer_name:ishmeet,project_name:dev-ishmeet,developer_mode:true
# ENV COLLECTOR_DISABLE_ACCESS_TOKEN_CHECKING=true
# Set default ports
ENV COLLECTOR_HTTP_PLAIN_PORT=8360
ENV COLLECTOR_ADMIN_PLAIN_PORT=8361
# Disable unused ports
ENV COLLECTOR_GRPC_PLAIN_PORT=0
ENV COLLECTOR_PLAIN_PORT=0
ENV COLLECTOR_BABYSITTER_PORT=0
ENV COLLECTOR_ADMIN_SECURE_PORT=0
# Default of 100MB
ENV COLLECTOR_REPORTER_BYTES_PER_PROJECT=100000000
# Allow 16MB reports
ENV COLLECTOR_GRPC_MAX_MSG_SIZE_BYTES=16777216
# Disable meta reports
ENV COLLECTOR_ENABLE_META_EVENTS=false
# Log to stderr
ENV COLLECTOR_LOGGING_STDERR_CONFIG_ENABLED=true
ENV COLLECTOR_LOGGING_STDERR_CONFIG_FORMAT_HIDE_CALLSTACK=true
ENV COLLECTOR_LOGGING_STDERR_CONFIG_FORMAT_HIDE_TAGS=true

EXPOSE 8360
EXPOSE 8361

CMD [ "/root/collector" ]